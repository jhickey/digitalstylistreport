(function(){function t(e,n,r){var i=t.resolve(e);if(null==i){r=r||e;n=n||"root";var s=new Error('Failed to require "'+r+'" from "'+n+'"');s.path=r;s.parent=n;s.require=!0;throw s}var o=t.modules[i];if(!o.exports){o.exports={};o.client=o.component=!0;o.call(this,o.exports,t.relative(i),o)}return o.exports}var e=Object.prototype.hasOwnProperty;t.modules={};t.aliases={};t.resolve=function(n){n.charAt(0)==="/"&&(n=n.slice(1));var r=n+"/index.js",i=[n,n+".js",n+".json",n+"/index.js",n+"/index.json"];for(var s=0;s<i.length;s++){var n=i[s];if(e.call(t.modules,n))return n}if(e.call(t.aliases,r))return t.aliases[r]};t.normalize=function(e,t){var n=[];if("."!=t.charAt(0))return t;e=e.split("/");t=t.split("/");for(var r=0;r<t.length;++r)".."==t[r]?e.pop():"."!=t[r]&&""!=t[r]&&n.push(t[r]);return e.concat(n).join("/")};t.register=function(e,n){t.modules[e]=n};t.alias=function(n,r){if(!e.call(t.modules,n))throw new Error('Failed to alias "'+n+'", it does not exist');t.aliases[r]=n};t.relative=function(n){function i(e,t){var n=e.length;while(n--)if(e[n]===t)return n;return-1}function s(e){var r=s.resolve(e);return t(r,n,e)}var r=t.normalize(n,"..");s.resolve=function(e){var s=e.charAt(0);if("/"==s)return e.slice(1);if("."==s)return t.normalize(r,e);var o=n.split("/"),u=i(o,"deps")+1;u||(u=0);e=o.slice(0,u+1).join("/")+"/deps/"+e;return e};s.exists=function(n){return e.call(t.modules,s.resolve(n))};return s};t.register("component-emitter/index.js",function(e,t,n){function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}n.exports=r;r.prototype.on=function(e,t){this._callbacks=this._callbacks||{};(this._callbacks[e]=this._callbacks[e]||[]).push(t);return this};r.prototype.once=function(e,t){function r(){n.off(e,r);t.apply(this,arguments)}var n=this;this._callbacks=this._callbacks||{};t._off=r;this.on(e,r);return this};r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=function(e,t){this._callbacks=this._callbacks||{};var n=this._callbacks[e];if(!n)return this;if(1==arguments.length){delete this._callbacks[e];return this}var r=n.indexOf(t._off||t);~r&&n.splice(r,1);return this};r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};r.prototype.listeners=function(e){this._callbacks=this._callbacks||{};return this._callbacks[e]||[]};r.prototype.hasListeners=function(e){return!!this.listeners(e).length}});t.register("dropzone/index.js",function(e,t,n){n.exports=t("./lib/dropzone.js")});t.register("dropzone/lib/dropzone.js",function(e,t,n){(function(){var e,r,i,s,o,u,a={}.hasOwnProperty,f=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e},l=[].slice,c=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=typeof Emitter!="undefined"&&Emitter!==null?Emitter:t("emitter");o=function(){};e=function(e){function t(e,n){var r,i,s,o;this.element=e;this.version=t.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");typeof this.element=="string"&&(this.element=document.querySelector(this.element));if(!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");t.instances.push(this);e.dropzone=this;r=(o=t.optionsForElement(this.element))!=null?o:{};i=function(){var e,t,n,r,i,s,o;r=arguments[0],n=2<=arguments.length?l.call(arguments,1):[];for(s=0,o=n.length;s<o;s++){t=n[s];for(e in t){i=t[e];r[e]=i}}return r};this.options=i({},this.defaultOptions,r,n!=null?n:{});this.options.url==null&&(this.options.url=this.element.action);if(!this.options.url)throw new Error("No URL provided.");if(this.options.acceptParameter&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptParameter' and 'acceptedMimeTypes'. 'acceptParameter' is deprecated.");this.options.method=this.options.method.toUpperCase();if(this.options.forceFallback||!t.isBrowserSupported())return this.options.fallback.call(this);(s=this.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s);if(this.options.previewsContainer){typeof this.options.previewsContainer=="string"?this.previewsContainer=document.querySelector(this.options.previewsContainer):this.options.previewsContainer.nodeType!=null&&(this.previewsContainer=this.options.previewsContainer);if(this.previewsContainer==null)throw new Error("Invalid `previewsContainer` option provided. Please provide a CSS selector or a plain HTML element.")}else this.previewsContainer=this.element;if(this.options.clickable){this.options.clickable===!0?this.clickableElement=this.element:typeof this.options.clickable=="string"?this.clickableElement=document.querySelector(this.options.clickable):this.options.clickable.nodeType!=null&&(this.clickableElement=this.options.clickable);if(!this.clickableElement)throw new Error("Invalid `clickable` element provided. Please set it to `true`, a plain HTML element or a valid CSS selector.")}this.init()}f(t,e);t.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","selectedfiles","addedfile","removedfile","thumbnail","error","processingfile","uploadprogress","sending","success","complete","reset"];t.prototype.defaultOptions={url:null,method:"post",parallelUploads:2,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,params:{},clickable:!0,acceptedMimeTypes:null,acceptParameter:null,enqueueForUpload:!0,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MB). Max filesize: {{maxFilesize}}MB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",accept:function(e,t){return t()},init:function(){return o},forceFallback:!1,fallback:function(){var e,n,r,i,s,o;this.element.className=""+this.element.className+" dz-browser-not-supported";o=this.element.getElementsByTagName("div");for(i=0,s=o.length;i<s;i++){e=o[i];if(/(^| )message($| )/.test(e.className)){n=e;e.className="dz-message";continue}}if(!n){n=t.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(n)}r=n.getElementsByTagName("span")[0];r&&(r.textContent=this.options.dictFallbackMessage);return this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,n,r;t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height};n=e.width/e.height;r=this.options.thumbnailWidth/this.options.thumbnailHeight;if(e.height<this.options.thumbnailHeight||e.width<this.options.thumbnailWidth){t.trgHeight=t.srcHeight;t.trgWidth=t.srcWidth}else if(n>r){t.srcHeight=e.height;t.srcWidth=t.srcHeight*r}else{t.srcWidth=e.width;t.srcHeight=t.srcWidth/r}t.srcX=(e.width-t.srcWidth)/2;t.srcY=(e.height-t.srcHeight)/2;return t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:o,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},selectedfiles:function(e){if(this.element===this.previewsContainer)return this.element.classList.add("dz-started")},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){e.previewElement=t.createElement(this.options.previewTemplate);e.previewTemplate=e.previewElement;this.previewsContainer.appendChild(e.previewElement);e.previewElement.querySelector("[data-dz-name]").textContent=e.name;return e.previewElement.querySelector("[data-dz-size]").innerHTML=this.filesize(e.size)},removedfile:function(e){return e.previewElement.parentNode.removeChild(e.previewElement)},thumbnail:function(e,t){var n;e.previewElement.classList.remove("dz-file-preview");e.previewElement.classList.add("dz-image-preview");n=e.previewElement.querySelector("[data-dz-thumbnail]");n.alt=e.name;return n.src=t},error:function(e,t){e.previewElement.classList.add("dz-error");return e.previewElement.querySelector("[data-dz-errormessage]").textContent=t},processingfile:function(e){return e.previewElement.classList.add("dz-processing")},uploadprogress:function(e,t,n){return e.previewElement.querySelector("[data-dz-uploadprogress]").style.width=""+t+"%"},sending:o,success:function(e){return e.previewElement.classList.add("dz-success")},complete:o,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>✔</span></div>\n  <div class="dz-error-mark"><span>✘</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'};t.prototype.init=function(){var e,n,r,i,s,o,u,a=this;this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data");this.element.classList.contains("dropzone")&&!this.element.querySelector("[data-dz-message]")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message" data-dz-message><span>'+this.options.dictDefaultMessage+"</span></div>"));if(this.clickableElement){r=function(){a.hiddenFileInput&&document.body.removeChild(a.hiddenFileInput);a.hiddenFileInput=document.createElement("input");a.hiddenFileInput.setAttribute("type","file");a.hiddenFileInput.setAttribute("multiple","multiple");a.options.acceptedMimeTypes!=null&&a.hiddenFileInput.setAttribute("accept",a.options.acceptedMimeTypes);a.options.acceptParameter!=null&&a.hiddenFileInput.setAttribute("accept",a.options.acceptParameter);a.hiddenFileInput.style.visibility="hidden";a.hiddenFileInput.style.position="absolute";a.hiddenFileInput.style.top="0";a.hiddenFileInput.style.left="0";a.hiddenFileInput.style.height="0";a.hiddenFileInput.style.width="0";document.body.appendChild(a.hiddenFileInput);return a.hiddenFileInput.addEventListener("change",function(){var e;e=a.hiddenFileInput.files;if(e.length){a.emit("selectedfiles",e);a.handleFiles(e)}return r()})};r()}this.files=[];this.filesQueue=[];this.filesProcessing=[];this.URL=(o=window.URL)!=null?o:window.webkitURL;u=this.events;for(i=0,s=u.length;i<s;i++){e=u[i];this.on(e,this.options[e])}this.on("uploadprogress",function(e){var t,n,r,i,s,o;n=0;t=0;o=a.files;for(i=0,s=o.length;i<s;i++){e=o[i];n+=e.upload.bytesSent;t+=e.upload.total}r=100*n/t;return a.emit("totaluploadprogress",r,t,n)});n=function(e){e.stopPropagation();return e.preventDefault?e.preventDefault():e.returnValue=!1};this.listeners=[{element:this.element,events:{dragstart:function(e){return a.emit("dragstart",e)},dragenter:function(e){n(e);return a.emit("dragenter",e)},dragover:function(e){n(e);return a.emit("dragover",e)},dragleave:function(e){return a.emit("dragleave",e)},drop:function(e){n(e);a.drop(e);return a.emit("drop",e)},dragend:function(e){return a.emit("dragend",e)}}}];this.clickableElement&&this.listeners.push({element:this.clickableElement,events:{click:function(e){if(a.clickableElement!==a.element||e.target===a.element||t.elementInside(e.target,a.element.querySelector(".dz-message")))return a.hiddenFileInput.click()}}});this.enable();return this.options.init.call(this)};t.prototype.getFallbackForm=function(){var e,n,r,i;if(e=this.getExistingFallback())return e;r='<div class="dz-fallback">';this.options.dictFallbackText&&(r+="<p>"+this.options.dictFallbackText+"</p>");r+='<input type="file" name="'+this.options.paramName+'" multiple="multiple" /><button type="submit">Upload!</button></div>';n=t.createElement(r);if(this.element.tagName!=="FORM"){i=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');i.appendChild(n)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return i!=null?i:n};t.prototype.getExistingFallback=function(){var e,t,n,r,i,s;t=function(e){var t,n,r;for(n=0,r=e.length;n<r;n++){t=e[n];if(/(^| )fallback($| )/.test(t.className))return t}};s=["div","form"];for(r=0,i=s.length;r<i;r++){n=s[r];if(e=t(this.element.getElementsByTagName(n)))return e}};t.prototype.setupEventListeners=function(){var e,t,n,r,i,s,o;s=this.listeners;o=[];for(r=0,i=s.length;r<i;r++){e=s[r];o.push(function(){var r,i;r=e.events;i=[];for(t in r){n=r[t];i.push(e.element.addEventListener(t,n,!1))}return i}())}return o};t.prototype.removeEventListeners=function(){var e,t,n,r,i,s,o;s=this.listeners;o=[];for(r=0,i=s.length;r<i;r++){e=s[r];o.push(function(){var r,i;r=e.events;i=[];for(t in r){n=r[t];i.push(e.element.removeEventListener(t,n,!1))}return i}())}return o};t.prototype.disable=function(){this.clickableElement===this.element&&this.element.classList.remove("dz-clickable");this.removeEventListeners();this.filesProcessing=[];return this.filesQueue=[]};t.prototype.enable=function(){this.clickableElement===this.element&&this.element.classList.add("dz-clickable");return this.setupEventListeners()};t.prototype.filesize=function(e){var t;if(e>=1e11){e/=1e11;t="TB"}else if(e>=1e8){e/=1e8;t="GB"}else if(e>=1e5){e/=1e5;t="MB"}else if(e>=100){e/=100;t="KB"}else{e*=10;t="b"}return"<strong>"+Math.round(e)/10+"</strong> "+t};t.prototype.drop=function(e){var t;if(!e.dataTransfer)return;t=e.dataTransfer.files;this.emit("selectedfiles",t);if(t.length)return this.handleFiles(t)};t.prototype.handleFiles=function(e){var t,n,r,i;i=[];for(n=0,r=e.length;n<r;n++){t=e[n];i.push(this.addFile(t))}return i};t.prototype.accept=function(e,n){return e.size>this.options.maxFilesize*1024*1024?n(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidMimeType(e.type,this.options.acceptedMimeTypes)?this.options.accept.call(this,e,n):n(this.options.dictInvalidFileType)};t.prototype.addFile=function(e){var t=this;e.upload={progress:0,total:e.size,bytesSent:0};this.files.push(e);this.emit("addedfile",e);this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=this.options.maxThumbnailFilesize*1024*1024&&this.createThumbnail(e);return this.accept(e,function(n){if(n)return t.errorProcessing(e,n);if(t.options.enqueueForUpload){t.filesQueue.push(e);return t.processQueue()}})};t.prototype.removeFile=function(e){if(e.processing)throw new Error("Can't remove file currently processing");this.files=u(this.files,e);this.filesQueue=u(this.filesQueue,e);this.emit("removedfile",e);if(this.files.length===0)return this.emit("reset")};t.prototype.removeAllFiles=function(){var e,t,n,r;r=this.files.slice();for(t=0,n=r.length;t<n;t++){e=r[t];c.call(this.filesProcessing,e)<0&&this.removeFile(e)}return null};t.prototype.createThumbnail=function(e){var t,n=this;t=new FileReader;t.onload=function(){var r;r=new Image;r.onload=function(){var t,i,s,o,u,a,f,l,c,h;e.width=r.width;e.height=r.height;s=n.options.resize.call(n,e);(u=s.trgWidth)==null&&(s.trgWidth=n.options.thumbnailWidth);(a=s.trgHeight)==null&&(s.trgHeight=n.options.thumbnailHeight);t=document.createElement("canvas");i=t.getContext("2d");t.width=s.trgWidth;t.height=s.trgHeight;i.drawImage(r,(f=s.srcX)!=null?f:0,(l=s.srcY)!=null?l:0,s.srcWidth,s.srcHeight,(c=s.trgX)!=null?c:0,(h=s.trgY)!=null?h:0,s.trgWidth,s.trgHeight);o=t.toDataURL("image/png");return n.emit("thumbnail",e,o)};return r.src=t.result};return t.readAsDataURL(e)};t.prototype.processQueue=function(){var e,t,n;t=this.options.parallelUploads;n=this.filesProcessing.length;e=n;while(e<t){if(!this.filesQueue.length)return;this.processFile(this.filesQueue.shift());e++}};t.prototype.processFile=function(e){this.filesProcessing.push(e);e.processing=!0;this.emit("processingfile",e);return this.uploadFile(e)};t.prototype.uploadFile=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m=this;l=new XMLHttpRequest;l.open(this.options.method,this.options.url,!0);a=null;n=function(){return m.errorProcessing(e,a||m.options.dictResponseError.replace("{{statusCode}}",l.status),l)};l.onload=function(t){var r;a=l.responseText;if(l.getResponseHeader("content-type")&&~l.getResponseHeader("content-type").indexOf("application/json"))try{a=JSON.parse(a)}catch(i){t=i;a="Invalid JSON response from server."}return 200<=(r=l.status)&&r<300?m.finished(e,a,t):n()};l.onerror=function(){return n()};u=(p=l.upload)!=null?p:l;u.onprogress=function(t){var n;e.upload={progress:n,total:t.total,bytesSent:t.loaded};n=100*t.loaded/t.total;return m.emit("uploadprogress",e,n,t.loaded)};l.setRequestHeader("Accept","application/json");l.setRequestHeader("Cache-Control","no-cache");l.setRequestHeader("X-Requested-With","XMLHttpRequest");l.setRequestHeader("X-File-Name",e.name);t=new FormData;if(this.options.params){d=this.options.params;for(o in d){f=d[o];t.append(o,f)}}if(this.element.tagName==="FORM"){v=this.element.querySelectorAll("input, textarea, select, button");for(c=0,h=v.length;c<h;c++){r=v[c];i=r.getAttribute("name");s=r.getAttribute("type");(!s||s.toLowerCase()!=="checkbox"||r.checked)&&t.append(i,r.value)}}this.emit("sending",e,l,t);t.append(this.options.paramName,e);return l.send(t)};t.prototype.finished=function(e,t,n){this.filesProcessing=u(this.filesProcessing,e);e.processing=!1;this.processQueue();this.emit("success",e,t,n);this.emit("finished",e,t,n);return this.emit("complete",e)};t.prototype.errorProcessing=function(e,t,n){this.filesProcessing=u(this.filesProcessing,e);e.processing=!1;this.processQueue();this.emit("error",e,t,n);return this.emit("complete",e)};return t}(r);e.version="3.1.0";e.options={};e.optionsForElement=function(t){return t.id?e.options[i(t.id)]:void 0};e.instances=[];e.forElement=function(e){var t;typeof e=="string"&&(e=document.querySelector(e));return(t=e.dropzone)!=null?t:null};e.autoDiscover=!0;e.discover=function(){var t,n,r,i,s,o;if(!e.autoDiscover)return;if(document.querySelectorAll)r=document.querySelectorAll(".dropzone");else{r=[];t=function(e){var t,n,i,s;s=[];for(n=0,i=e.length;n<i;n++){t=e[n];/(^| )dropzone($| )/.test(t.className)?s.push(r.push(t)):s.push(void 0)}return s};t(document.getElementsByTagName("div"));t(document.getElementsByTagName("form"))}o=[];for(i=0,s=r.length;i<s;i++){n=r[i];e.optionsForElement(n)!==!1?o.push(new e(n)):o.push(void 0)}return o};e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];e.isBrowserSupported=function(){var t,n,r,i,s;t=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){s=e.blacklistedBrowsers;for(r=0,i=s.length;r<i;r++){n=s[r];if(n.test(navigator.userAgent)){t=!1;continue}}}else t=!1;else t=!1;return t};u=function(e,t){var n,r,i,s;s=[];for(r=0,i=e.length;r<i;r++){n=e[r];n!==t&&s.push(n)}return s};i=function(e){return e.replace(/[\-_](\w)/g,function(e){return e[1].toUpperCase()})};e.createElement=function(e){var t;t=document.createElement("div");t.innerHTML=e;return t.childNodes[0]};e.elementInside=function(e,t){if(e===t)return!0;while(e=e.parentNode)if(e===t)return!0;return!1};e.isValidMimeType=function(e,t){var n,r,i,s;if(!t)return!0;t=t.split(",");n=e.replace(/\/.*$/,"");for(i=0,s=t.length;i<s;i++){r=t[i];r=r.trim();if(/\/\*$/.test(r)){if(n===r.replace(/\/.*$/,""))return!0}else if(e===r)return!0}return!1};typeof jQuery!="undefined"&&jQuery!==null&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})});typeof n!="undefined"&&n!==null?n.exports=e:window.Dropzone=e;s=function(e,t){var n,r,i,s,o,u,a,f,l;i=!1;l=!0;r=e.document;f=r.documentElement;n=r.addEventListener?"addEventListener":"attachEvent";a=r.addEventListener?"removeEventListener":"detachEvent";u=r.addEventListener?"":"on";s=function(n){if(n.type==="readystatechange"&&r.readyState!=="complete")return;(n.type==="load"?e:r)[a](u+n.type,s,!1);if(!i&&(i=!0))return t.call(e,n.type||n)};o=function(){var e;try{f.doScroll("left")}catch(t){e=t;setTimeout(o,50);return}return s("poll")};if(r.readyState!=="complete"){if(r.createEventObject&&f.doScroll){try{l=!e.frameElement}catch(c){}l&&o()}r[n](u+"DOMContentLoaded",s,!1);r[n](u+"readystatechange",s,!1);return e[n](u+"load",s,!1)}};s(window,e.discover)}).call(this)});t.alias("component-emitter/index.js","dropzone/deps/emitter/index.js");typeof exports=="object"?module.exports=t("dropzone"):typeof define=="function"&&define.amd?define(function(){return t("dropzone")}):window.Dropzone=t("dropzone")})();